\chapter{Miscelaneous stuff}
\section{Debugging dflowfm.dll running under \dfmsuite or \dhydrosuite}
In many cases it is desirable to be able to debug dflowfm.dll from the Visual Studio IDE, as it is running under \dfmsuite or \dhydrosuite. There are cases in which the dflowm.dll behaves differently from dflowfm.exe or dflowfm-cli.exe and cases in which one would like to see how \dfmsuite or \dhydrosuite is calling API functions.
The procedure is straightforward:
\begin{itemize}
\item
In the Visual Studio solution, set dflowfm\_dll\_2012 as the startup project.

\item
Modify the properties of dflowfm\_dll\_2012 as follows: \\
%   \begin{itemize}
%   \item General\,->\,Output Directory :
%   \item Debugging\,->\,Command :
%   \item Debugging\,->\,Working Directory :
%   \end{itemize}
    General\,->\,Output Directory :\\\hbox{{\bf\hspace{0.5cm}\textbackslash \%DSPATH\%\textbackslash plugins\textbackslash DeltaShell.Plugins.FMSuite.FlowFM\textbackslash dflowfm\_kernel\textbackslash x64}}  \\
    Debugging\,->\,Command :\\\hbox{{\bf\hspace{0.5cm} \%DSPATH\%\textbackslash bin\textbackslash DeltaShell.Gui.exe}} \\
    Debugging\,->\,Working Directory :\\\hbox{{\bf\hspace{0.5cm}\%DSPATH\%\textbackslash bin}}\\
\item
Shift-F5 Go !!

\item
Due to the project's new settings, dflowm.dll and its .pdb  will be rebuilt in the path where the \dfmsuite or \dhydrosuite expects them.
\item
Ignore Visual Studio's complaints about missing symbols by pressing 'YES'

\item
Be patient while Visual Studio attempts to load all kinds of irrelevant symbols....

\item
\dfmsuite or \dhydrosuite will fire up.

\item
Either load an existent \dfmsuite or \dhydrosuite project or create a new one while importing a dflowfm model.

\item
{\bf Set 'Use RPC' to FALSE} for the dflowfm model (right-clicking in the project tree left on the screen on the dflowfm model and select 'Properties', opens the properties pane on the right.)\\
Otherwise, dflowfm is run as a remote instance, which is inaccessible to Visual Studio for debugging.

\item
Set breakpoints in Visual Studio

\item
Run the model in the \dfmsuite or \dhydrosuite, which will hit the breakpoints

\end{itemize}
